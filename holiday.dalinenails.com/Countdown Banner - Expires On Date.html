<span style="font-size: 80%">Offer Expires on <span class="dn-offer-expiry"></span> (<span class="dn-countdown"></span>)</span>
<script>
  // ------------------------------------------------------------------------
  // STATIC DATE STRING
  // ------------------------------------------------------------------------
  var EXPIRY_DATE = new Date(
    2023,
    5,
    28,
    23, // hour
    59, // minute
    59 // second
  );

  // ------------------------------------------------------------------------
  // STATIC DATE STRING
  // ------------------------------------------------------------------------
  (function() {
    var day = EXPIRY_DATE.getDate();
    var month = EXPIRY_DATE.toLocaleString("en", { month: "short" });
    var week = EXPIRY_DATE.toLocaleString("en", { weekday: "short" });

    document.querySelector('.dn-offer-expiry').innerHTML = week + ', ' + day + ' ' + month + ' 11:59pm';
  }());

  // ------------------------------------------------------------------------
  // COUNTDOWN
  // ------------------------------------------------------------------------
  (function() {
    var MILLIS_PER_HOUR = 1000 * 60 * 60;
    var MILLIS_PER_MINUTE = 1000 * 60;
    var MILLIS_PER_SECOND = 1000;

    const CountDown = (expiryDate) => {
      var hoursFrom = function(now, target) {
        var hoursFromTarget = (target.getTime() - now.getTime()) / MILLIS_PER_HOUR;
        var hours = hoursFromTarget;
        return hours < 10 ? '0' + Math.round(hours) : Math.round(hours);
      };
      var minutesFrom = function(now, target) {
        var minutesFromTarget = (target.getTime() - now.getTime()) / MILLIS_PER_MINUTE;
        var minutes = minutesFromTarget % 60;
        return minutes < 10 ? '0' + Math.round(minutes) : Math.round(minutes);
      };
      var secondsFrom = function(now, target) {
        var secondsFromTarget = (target.getTime() - now.getTime()) / MILLIS_PER_SECOND;
        var seconds = secondsFromTarget % 60;
        return seconds < 10 ? '0' + Math.round(seconds) : Math.round(seconds);
      };

      return {
        tick: () => {
          var now = new Date();
          return hoursFrom(now, expiryDate) + ':' + minutesFrom(now, expiryDate) + ':' + secondsFrom(now, expiryDate);
        }
      };
    };
    const countdown = CountDown(EXPIRY_DATE);

    var render = function() {
      document.querySelector('.dn-countdown').innerHTML = countdown.tick();
    };

    setInterval(function() { render(); }, 1000);
    render(); // Initial render to avoid FOUC
  }());
</script>
